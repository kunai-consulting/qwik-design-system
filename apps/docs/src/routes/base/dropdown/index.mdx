import api from "./code-notate/api.json";

# Dropdown
A menu that opens from a trigger button to display a list of selectable options.
<Showcase name="hero" />
## Features
<Features api={api} />
## Anatomy
<AnatomyTable api={api} />
## Examples
### Basic Usage
The dropdown menu provides a simple way to present a list of selectable options. The example below demonstrates the core functionality using `Dropdown.Root`, `Dropdown.Trigger`, `Dropdown.Content`, `Dropdown.Item`, and `Dropdown.ItemLabel` components.

<Showcase name="hero" />
This example highlights:
- Menu structure with trigger and content
- Selectable items with `onSelect$` handlers
- Disabled state for menu items
- Keyboard navigation between items
- WAI-ARIA compliant menu pattern
- Focus management when navigating items
- Automatic closing when an item is selected

The dropdown automatically handles:
- Arrow key navigation between items
- Enter/Space to select items
- Escape to close the menu
- Click outside to dismiss
- Focus management
- ARIA attributes for accessibility

Note: The example shows how to track selected items using a signal, but the dropdown can be used with any state management approach.

## Component State
### Using Component State
As shown in the Basic Usage example above, the dropdown's open state can be controlled in two ways:
1. Uncontrolled state using the `open` prop:
```typescript
<Dropdown.Root open={false}>
  <Dropdown.Trigger>Menu</Dropdown.Trigger>
  <Dropdown.Content>...</Dropdown.Content>
</Dropdown.Root>
```
2. Controlled state using the `bind:open` prop:
```typescript
<Dropdown.Root bind:open={isOpenSignal}>
  <Dropdown.Trigger>Menu</Dropdown.Trigger>
  <Dropdown.Content>...</Dropdown.Content>
</Dropdown.Root>
```
### State Interactions
The dropdown provides several ways to interact with its state:
1. Item Selection:
As demonstrated in the Basic Usage example, use the `onSelect$` prop on `Dropdown.Item` to handle selection:
```typescript
<Dropdown.Item
  onSelect$={() => {
    // Handle selection
  }}
>
  <Dropdown.ItemLabel>Option</Dropdown.ItemLabel>
</Dropdown.Item>
```
2. Disabled State:
Items can be disabled by setting the `disabled` prop:
```typescript
<Dropdown.Item disabled>
  <Dropdown.ItemLabel>Disabled Option</Dropdown.ItemLabel>
</Dropdown.Item>
```
When an item is disabled:
- It cannot be selected
- It cannot receive focus
- It is skipped during keyboard navigation
- The `onSelect$` handler will not fire

The dropdown automatically manages its open state in response to:
- Clicking the trigger button (toggles open/closed)
- Selecting an item (closes the dropdown)
- Clicking outside (closes the dropdown)
- Pressing Escape (closes the dropdown)

Based on the provided implementation and examples, I'll document the core configuration aspects of the Dropdown component.
## Core Configuration
### Menu Structure
The Dropdown component requires a specific component hierarchy to function correctly:
```typescript
<Dropdown.Root>
  <Dropdown.Trigger />
  <Dropdown.Content>
    <Dropdown.Item>
      <Dropdown.ItemLabel />
    </Dropdown.Item>
  </Dropdown.Content>
</Dropdown.Root>
```
Each component serves a specific purpose:
- `Root`: Manages state and context for the dropdown
- `Trigger`: The button that toggles the dropdown
- `Content`: The container for dropdown items
- `Item`: Individual selectable options
- `ItemLabel`: Text or content within items
### Item Configuration
As shown in the hero example above, items can be configured with:
- `disabled`: Boolean prop to disable selection
- `onSelect$`: Handler called when item is selected
- `class`: Custom CSS classes for styling
### Keyboard Navigation
The dropdown implements a circular navigation pattern:
- When focus is on the last enabled item, pressing ArrowDown moves focus to the first item
- When focus is on the first item, pressing ArrowUp moves focus to the last enabled item
- Disabled items are automatically skipped during keyboard navigation
### Technical Constraints
1. Item References:
- Items must be direct children of `Dropdown.Content`
- Items are indexed automatically for keyboard navigation
- Dynamic items must maintain stable references
2. Focus Management:
- Focus is contained within the dropdown when open
- Focus returns to trigger when closed
- Only enabled items receive focus
3. Event Handling:
- Click outside automatically closes dropdown
- Escape key closes dropdown
- Selection automatically closes dropdown
### Default Behaviors
The dropdown implements these default behaviors:
1. Initial State:
- Closed by default
- Can be controlled via `open` or `bind:open` props
2. Positioning:
- Uses Floating UI for overlay positioning
- Automatically adjusts to viewport edges
- Maintains trigger alignment
3. Selection:
- Single item selection
- Closes after selection
- Disabled items cannot be selected
These configurations provide a foundation for building accessible dropdown menus while maintaining flexibility for custom implementations.





<APITable api={api} />